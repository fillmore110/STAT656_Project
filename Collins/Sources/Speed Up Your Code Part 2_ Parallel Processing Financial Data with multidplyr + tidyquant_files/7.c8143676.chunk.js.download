(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{I4Wp:function(e,t,n){},IuzP:function(e,t,n){},JhcM:function(e,t,n){},KA4J:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return o});var a=n("efbE"),i=["en","es","pt","id","fr","ar","tr","th","vi","de","it","ja","zh-CN","zh-TW","ru","ko","pl","nl","ro","hu","sv","cs","hi","bn","da","fa","tl","fi","iw","ms","no","uk"],r=function localeToGiphyLang(e){switch(e){case"de-DE-formal":return"de";case"zh":return"zh-CN";case"zh-HK":return"zh-TW";case"pt-BR":return"pt"}return i.includes(e)?e:"en"},c=function getTrendingGiphys(e){return a.h.get("/trending",{params:{limit:e,rating:"pg"}})},o=function getSearchGiphys(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).locale;return a.h.get("/search",{params:{limit:t,q:e,lang:r(n),rating:"pg"}})}},"PGb/":function(e,t,n){},UXBQ:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var a=n("efbE"),i=function uploadAttachment(e,t){var n=new FormData;return n.append("conversationId",t),n.append("file",e),a.a.post("/attachments",n)},r=function fetchAttachments(e,t){return a.a.get("/attachments",{params:{id:e},cancelToken:t})}},dZmz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("efbE"),i=n("rAc1"),r=n("l6A5"),c=function urlIdentity(e){return Object(i.a)(e)},o=(Object(r.a)(c,function(e){return a.k.get("/",{params:{url:encodeURI(e)}})}),Object(r.a)(c,function(e){return a.j.get("/",{params:{url:e,iframe:1,omit_script:1,media:1}})}))},fTFZ:function(e,t,n){"use strict";var a=n("nfbA"),i=n("WwEg"),r=n("s8DI"),c=n("nJ3u"),o=n("O94r"),s=n.n(o),l=n("7IKl"),u=n("lE29"),d=n("ERkP"),m=n.n(d),f=n("Tr4L"),b=n("uDfI"),g=(n("I4Wp"),function AgentTypingIndicator(){var e=Object(f.a)().t,t=Object(u.a)().widgetBackgroundAlpha,n=Object(b.c)(function(e){return e.conversations.typingIndicators[e.conversations.activeConversation]||{}}),a=n.isTyping,i=void 0!==a&&a,r=n.userId,c=Object(l.a)(r);return i?m.a.createElement("p",{style:t,className:"agent-typing-indicator"},e("status.agentTyping",{agent:c})):null}),p=n("ZGTz"),v=n("oImb"),O=n("+Kbs"),h=n("908p"),j=n("nQD+"),E=n("HXmn"),y=n("mZ4K"),A=n("P+wr"),w=n("6wvX"),I=n("z24s"),k=n("jITz"),T=n("6rzO"),N=n("58kB"),C=n("uQkC"),L=n("hNWd"),B=n("+oIK"),S=n("LVcX"),U=n("U505"),z=n("ovDp"),R=n("vwUF"),M=n("0lfv");n("IuzP");n.d(t,"a",function(){return x});var x,_="GIF",V="TEXT",D=function validateMessageText(e){return e&&e.trim().length>0};!function(e){e[e.AVAILABLE=0]="AVAILABLE",e[e.AVAILABLE_BUTTONS=1]="AVAILABLE_BUTTONS",e[e.UNAVAILABLE=2]="UNAVAILABLE",e[e.UNAVAILABLE_BUTTONS=3]="UNAVAILABLE_BUTTONS"}(x||(x={}));t.b=function Composer(e){var t=e.onSubmit,n=e.activeConversationId,o=e.state,l=void 0===o?x.AVAILABLE:o,P=e.disabled,F=void 0!==P&&P,G=e.chatHidden,Z=Object(d.useRef)(null),H=Object(d.useRef)(null),K=Object(d.useRef)(null),J=Object(d.useRef)(null),W=Object(d.useState)(""),X=Object(r.a)(W,2),q=X[0],Q=X[1],Y=Object(d.useState)(!1),$=Object(r.a)(Y,2),ee=$[0],te=$[1],ne=Object(d.useState)([]),ae=Object(r.a)(ne,2),ie=ae[0],re=ae[1],ce=Object(I.a)(Z),oe=Object(I.a)(H),se=Object(I.a)(K),le=Object(I.a)(J),ue=Object(b.c)(function(e){return e.view}),de=ue.matchedHours,me=ue.chatOpen,fe=Object(b.c)(function(e){return e.conversations.attachments}),be=Object(b.c)(function(e){return e.session.endUser.id}),ge=Object(b.c)(function(e){return Object(S.a)(!1,["embed","configuration","theme"],e)}).allowEndUserFileUpload,pe=Object(f.a)().t,ve=Object(w.a)(!0),Oe=Object(y.a)(),he=Object(u.a)(),je=he.activeColor,Ee=he.widgetBackgroundColor,ye=Object(N.a)(Oe).recipient,Ae=Object(T.a)({inputRef:Z}),we=Ae.pastedFiles,Ie=Ae.clearFiles,ke=Object(k.a)({targetKey:"Enter"}),Te=Object(C.a)({activeConversationId:n}),Ne=Te.sendTypingStarted,Ce=Te.sendTypingFinished,Le=Object(A.a)({activeConversation:n,onAttachmentUploadComplete:Object(d.useCallback)(function onAttachmentUploadComplete(e){re(function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}),Ie()},[])}),Be=Le.attachmentState,Se=Le.uploadAttachments,Ue=Le.resetAttachmentState,ze=l===x.AVAILABLE||l===x.AVAILABLE_BUTTONS,Re=Object(z.a)({onDrop:Se,disabled:F||!ze||!ge}),Me=Re.getRootProps,xe=Re.getInputProps,_e=Re.open,Ve=D(q)||ie.length,De=Be===R.b.PENDING,Pe=Be===R.b.ERROR||Be===R.b.SIZE_ERROR;var Fe=Object(d.useCallback)(function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V,r=ie?{attachments:ie}:{},c=n?{}:{sentWelcomeMessage:de};Ce();var o=i===V?Object(M.r)(e):e;t({message:Object(B.a)(Object(a.a)({message:o,activeConversation:n||null,authorId:be,attributes:c},r))}),Q(""),re([]),Ue()},[n,be,de,t,Ue,Ce,ie]);Object(d.useEffect)(function(){ge?we.length&&!De&&Se(we):Ie()},[ge,De,Ie,we,Se]),Object(d.useEffect)(function(){ke&&(D(q)||ie.length)&&Fe(q,V)},[ke,q,Fe,ie.length]),Object(d.useEffect)(function(){n&&Q("")},[n]),Object(d.useEffect)(function(){var e=Z,t=l===x.AVAILABLE_BUTTONS;return me&&ze&&!t&&!G&&e.current&&e.current.focus(),function(){return e.current&&e.current.blur()}},[G,me,ze,l]);var Ge=Object(d.useMemo)(function(){return ze?pe("composer.replyToPlaceholder",{name:ye.name}):pe(l===x.UNAVAILABLE_BUTTONS?"composer.chooseOptionAbove":"composer.replyDisabled")},[ze,ye.name,l,pe]),Ze=ge&&!!n,He=!Ve&&!!n,Ke=!!Ve,Je=Ze||Ke||He,We=F||De;return m.a.createElement(m.a.Fragment,null,(ie.length||De||Pe)&&m.a.createElement("div",{className:"drift-widget-composer--pre-message-attachments"},Pe&&m.a.createElement("div",{className:"drift-widget-attachment-send-status drift-widget-attachment-send-status--failed"},m.a.createElement("span",{className:"drift-widget-attachment-send-status--text"},pe(Be===R.b.SIZE_ERROR?"attachment.errorSize":"attachment.error")),m.a.createElement(j.a,{onClick:function onClick(){Ue(),Ie()},className:"drift-widget-attachment-send-status--close",disabled:F},m.a.createElement(O.j,{width:10,height:10}))),(ie.length||De)&&m.a.createElement("ul",{className:"drift-widget-composer-attachment-preview-list"},[].concat(Object(i.a)(ie),Object(i.a)(De?[{pending:!0}]:[])).map(function(e,t){return m.a.createElement("li",{key:fe[e]?fe[e].id:"file-upload-loader"},fe[e]&&!fe.pending&&m.a.createElement(j.a,{"aria-label":"Remove attachment ".concat(t+1),onClick:function onClick(){return function onRemoveUploadedAttachment(e){re(function(t){return Object(U.a)([e],t)})}(e)},disabled:F},m.a.createElement(O.j,{width:6,height:6})),fe[e]&&!fe.pending?function resolveAttachmentTypeComponent(e){return e?e.mimeType.includes("image")?m.a.createElement("div",{className:"drift-widget-composer-attachment-preview-list-image-wrapper"},m.a.createElement("img",{alt:e.fileName,src:e.publicUrl})):m.a.createElement("div",{className:"drift-widget-composer-attachment-non-image",title:e.filename},m.a.createElement("strong",null,e.fileName),m.a.createElement(O.k,{width:16,height:16})):null}(fe[e]):m.a.createElement(E.a,{size:"small",className:"drift-widget-composer-attachment-loader"}))}))),m.a.createElement("style",null,"\n          .drift-widget-input.keyboard-focused {\n            ".concat(Object(c.d)(Ee,je),"\n          }\n\n          .drift-widget-composer-emoji-toggle.keyboard-focused:before {\n            ").concat(Object(c.a)(je,24,-2),"\n          }\n\n          .drift-widget-composer-actions button.keyboard-focused,\n          .drift-widget-composer-send-button.keyboard-focused {\n            ").concat(Object(c.c)(je),"\n          }\n        ")),m.a.createElement("div",Object.assign({},Me({onClick:function onClick(e){return e.stopPropagation()}}),{className:s()("drift-widget-composer--default",{"drift-widget-composer--mobile":ve,"drift-widget-composer--hidden":F||!ze}),tabIndex:-1}),ge&&m.a.createElement("input",xe()),m.a.createElement(g,null),m.a.createElement("div",{className:"drift-widget-composer--text-area"},m.a.createElement("pre",null,ze&&q.length?q:" "),m.a.createElement("label",{className:"drift-a11y-visually-hidden",htmlFor:"drift-widget-composer-input"},Ge),m.a.createElement("textarea",{className:s()("drift-widget-input",{"keyboard-focused":ce}),ref:Z,placeholder:Ge,value:ze?q:"",onChange:function onTextareaChange(e){ke||we.length||(Q(e.target.value),Ne())},"aria-label":"message composer",maxLength:4096,disabled:F||!ze||!!we.length,tabIndex:0,id:"drift-widget-composer-input"}),ze&&!ve&&m.a.createElement("button",{ref:H,className:s()("drift-widget-composer-emoji-toggle",{"keyboard-focused":oe}),onClick:function onEmojiButtonClick(){l!==x.AVAILABLE||F||te(!ee)},disabled:F,"aria-expanded":ee,"aria-label":"emojis"},m.a.createElement(L.a,null))),ze&&!ve&&m.a.createElement(p.a,{open:ee,onAddEmoji:function onAddEmoji(e){te(!ee),ze&&!F&&(Q(e),Z.current&&Z.current.focus())},onClickOutside:function onEmojiPickerClickOutside(e){H.current&&H.current.contains(e.target)||te(!1)}}),ze&&Je&&m.a.createElement("div",{className:s()("drift-widget-composer-actions",{"drift-widget-composer-actions-expanded":Ze&&(He||Ke)})},Ze&&m.a.createElement("button",{ref:K,className:s()({"keyboard-focused":se}),onClick:_e,"aria-label":"add an attachment",disabled:F},m.a.createElement(O.a,null)),He&&m.a.createElement(v.a,{onAddGiphy:function onAddGiphy(e){return Fe(e,_)},disabled:F}),Ke&&m.a.createElement("button",{className:s()("drift-widget-composer-send-button",{"drift-widget-composer-send-button--disabled":We,"keyboard-focused":le}),"aria-label":"send message",onClick:function onClick(){return Fe(q,V)},disabled:F||De,ref:J},m.a.createElement(h.a,{color:"#".concat(je)})))))}},pgTp:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u});var a=n("WwEg"),i=n("efbE"),r=n("JBtm"),c=n.n(r),o=function fetchAgentAvailability(e){var t=e.agentId,n=e.additionalAgents,r=void 0===n?[]:n,o=e.meetingType,s=e.start,l=e.orgMeetingType;return i.m.get("scheduling/".concat(t,"/availability"),{params:{meetingType:o,start:s,additionalAgents:Object(a.a)(r),orgMeetingType:l},paramsSerializer:function paramsSerializer(e){return c.a.stringify(e)}})},s=function fetchCompanyAvailability(e){var t=e.orgMeetingType,n=e.agentIds,a=void 0===n?[]:n;return i.m.get("/scheduling/availability/combined/v2",{params:{orgMeetingType:t,agentIds:a},paramsSerializer:function paramsSerializer(e){return c.a.stringify(e)}})},l=function scheduleMeeting(e){var t=e.endUserTimeZone,n=e.availabilitySlot,a=e.agentId,r=e.meetingType,c=e.meetingSource,o=e.conversationId,s=e.bookedByUserId,l=e.orgMeetingType;return i.m.post("scheduling/".concat(a,"/schedule"),n,{params:{conversationId:o,meetingSource:c,meetingType:r,timeZone:t,bookedByUserId:s,orgMeetingType:l}})},u=function scheduleCompanyMeeting(e){var t=e.availabilitySlot,n=e.availableAgents,a=e.conversationId,r=e.meetingSource,c=e.meetingType,o=e.endUserTimeZone,s=e.bookedByUserId,l=e.orgMeetingType;return i.m.post("/scheduling/schedule/combined",{availabilitySlot:t,availableAgents:n,conversationId:a,meetingSource:r,meetingType:c,endUserTimezone:o,bookedByUserId:s,orgMeetingType:l})}},"tGI+":function(e,t,n){"use strict";var a=n("mj2O"),i=n.n(a),r=n("7SM1"),c=n("s8DI"),o=n("NJA7"),s=n("fw6E"),l=n("K7i0"),u=n("+oIK"),d=n("da4L"),m=n("ERkP"),f=n.n(m),b=n("uDfI"),g=n("0lfv");n("yAze");t.a=function AgentRequestedOptions(e){var t=e.message,n=t.attributes,a=t.id,p=t.conversationId,v=Object(b.b)(),O=Object(b.c)(function(e){return e.session}).endUser,h=Object(s.a)().conversationHistoryOpen,j=Object(b.c)(function(e){return e.view}).chatOpen,E=Object(m.useState)(!j),y=Object(c.a)(E,2),A=y[0],w=y[1],I=Object(d.k)(t)&&j,k=function doSendMessage(e){var n=e.label;return function(){var e=Object(u.a)({message:n,activeConversation:p,authorId:O.id,attributes:{buttonClicked:!0,questionId:t.attributes.questionId}});v(Object(l.m)({message:e}))}};Object(m.useLayoutEffect)(function(){function _delayButtons(){return(_delayButtons=Object(r.a)(i.a.mark(function _callee(){return i.a.wrap(function _callee$(e){for(;;)switch(e.prev=e.next){case 0:if(!j||A){e.next=4;break}return e.next=3,Object(g.q)(500);case 3:w(!0);case 4:case"end":return e.stop()}},_callee)}))).apply(this,arguments)}!function delayButtons(){return _delayButtons.apply(this,arguments)}()},[A,j]);var T=A?"visible":"hidden";return f.a.createElement("ul",{className:"drift-widget-message-group drift-widget-message-group-type--END_USER drift-bot-buttons--set drift-bot-buttons--".concat(T)},n.buttons.map(function(e,t){return f.a.createElement("li",{className:"drift-widget-button--list-item","aria-posinset":t,key:"bot-button-".concat(a,"-").concat(t)},f.a.createElement(o.a,{onClick:k(e),invertOnHover:!0,forceFocus:0===t&&I,disabled:h,"aria-label":"".concat(e.label," - Click to reply with this message")},e.label))}))}},vkRn:function(e,t,n){"use strict";var a=n("nJ3u"),i=n("O94r"),r=n.n(i),c=n("noex"),o=n("yEsl"),s=n("fw6E"),l=n("z24s"),u=n("hhdZ"),d=n("58kB"),m=n("6fy/"),f=n("SsZN"),b=n("Wjfv"),g=n("K7i0"),p=n("da4L"),v=n("LVcX"),O=n("i9gz"),h=n("ERkP"),j=n.n(h),E=n("Tr4L"),y=n("uDfI"),A=n("A5mO"),w=(n("JhcM"),function ConversationHistoryListItem(e){var t=e.conversation,n=void 0===t?{}:t,a=Object(s.a)().onToggleConversationHistory,i=Object(h.useRef)(null),w=Object(E.a)().t,I=Object(l.a)(i),k=Object(y.b)(),T=Object(m.a)(),N=Object(h.useMemo)(function(){return Object(v.a)(null,["conversation","id"],n)},[n]),C=Object(u.a)(N),L=Object(h.useMemo)(function(){return Object(v.a)(null,["authorId"],C)},[C]),B=Object(d.a)(L).recipient,S=Object(p.h)(C);if(Object(O.a)(C))return null;var U=C.createdAt,z=C.attributes,R=void 0===z?{}:z,M=Object(A.a)(U).isAfter(A.a.today())?Object(A.a)(U).unixFmt(w("dt.format.time.short")):Object(A.a)(U).unixFmt(w("dt.format.date.short")),x=S?T.name:B.name,_="Conversation with ".concat(B.name).concat(R.preview?" - ".concat(S?"You":"",': "').concat(R.preview,'"'):"",", ").concat(M," - Click to open");return j.a.createElement("li",{className:r()("drift-widget-conversation-list-item",{"keyboard-focused":I})},j.a.createElement("button",{onClick:function toggleConversation(e){return function(){e&&(a(!1),k(Object(b.a)()),k(Object(g.n)({conversationId:e})),Object(f.f)(e))}}(n.conversation.id),"aria-label":_,ref:i},S?j.a.createElement(o.a,{size:"SMALL",className:"drift-widget-conversation-list-item-avatar",image:T.avatar}):j.a.createElement(c.a,{size:"SMALL",className:"drift-widget-conversation-list-item-avatar",image:B.avatarUrl,id:L}),j.a.createElement("div",{className:"drift-widget-conversation-list-item-content"},j.a.createElement("h2",null,x),j.a.createElement("span",{className:"drift-widget-conversation-list-item-time"},M),j.a.createElement("p",{className:"drift-widget-conversation-list-item-last-message"},R.preview))))}),I=n("lE29"),k=n("DboL"),T=n("9xv8");n("PGb/"),t.a=function ConversationHistory(){var e=Object(s.a)().conversationHistoryOpen,t=Object(y.c)(function(e){return e.conversations.conversations}),n=Object(h.useMemo)(function(){return Object(T.c)(Object(k.a)(t),"updatedAt")},[t]),i=Object(h.useMemo)(function(){return j.a.createElement("ul",{className:"drift-widget-conversation-history-list"},n.map(function(e){return j.a.createElement(w,{key:e.conversation.id,conversation:e})}))},[n]),c=Object(I.a)().activeColor;return j.a.createElement("div",{className:r()("drift-widget-conversation-history",{"drift-widget-conversation-history--open":e}),"aria-hidden":!e},j.a.createElement("style",null,"\n          .drift-widget-conversation-list-item.keyboard-focused {\n            ".concat(Object(a.c)(c),"\n          }\n        ")),e&&i)}},yAze:function(e,t,n){}}]);